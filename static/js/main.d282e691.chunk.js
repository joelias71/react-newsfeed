(this["webpackJsonpreact-newsfeed"]=this["webpackJsonpreact-newsfeed"]||[]).push([[0],{53:function(e,t,n){e.exports=n(88)},58:function(e,t,n){},63:function(e,t,n){},84:function(e,t,n){},85:function(e,t,n){},86:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),l=n.n(c),i=(n(58),n(19)),o=n(46),u=n.n(o),s=n(48),m=n.n(s),E=n(37),f=n.n(E),v=n(38),p=n.n(v),h=n(39),g=n.n(h),d=n(40),b=n.n(d),_=n(41),N=n.n(_),w=n(42),C=n.n(w),y=n(43),O=n.n(y),S=[{title:"Inicio",path:"/",icon:r.a.createElement(f.a,null),cName:"navbar-text"},{title:"Pol\xedtica",path:"/politic",icon:r.a.createElement(p.a,null),cName:"navbar-text",value:1},{title:"Internacionales",path:"/international",icon:r.a.createElement(g.a,null),cName:"navbar-text",value:2},{title:"Tecnolog\xeda",path:"/technology",icon:r.a.createElement(b.a,null),cName:"navbar-text",value:3},{title:"Espect\xe1culos",path:"/entertainment",icon:r.a.createElement(N.a,null),cName:"navbar-text",value:4},{title:"Deportes",path:"/sport",icon:r.a.createElement(C.a,null),cName:"navbar-text",value:5},{title:"Dise\xf1o",path:"/design",icon:r.a.createElement(O.a,null),cName:"navbar-text",value:6}],T=(n(63),n(18)),k=n(47),R=n.n(k),D=n(13),x=n(45),j=n.n(x).a.create({baseURL:"https://api.canillitapp.com/"}),I=function(e){if(F(),"404"!==e){var t=e?"news/category/".concat(e):"latest/".concat(function(){var e=new Date,t=String(e.getDate()).padStart(2,"0"),n=String(e.getMonth()+1).padStart(2,"0"),a=e.getFullYear();return"".concat(a,"-").concat(n,"-").concat(t)}());return function(e){j.get(t).then((function(t){return e(L(t))})).catch((function(t){return e(M(t))}))}}return function(e){e(M("Ruta no encontrada"))}},L=function(e){return{type:"SET_DATA_FROM_SERVICE",data:e}},F=function(){return{type:"CLEANUP"}},A=function(e){return{type:"SET_TITLE",title:e}},M=function(e){return{type:"SERVICE_ERROR",error:e}},P=n(23);n(82);P.a.configure();var B=Object(D.b)(null,(function(e){return{searchData:function(t){return e(function(e){return F(),function(t){j.get("search/".concat(e)).then((function(e){return t(L(e))})).catch((function(e){return t(M(e))}))}}(t))},setTitle:function(t){return e(A(t))}}}))((function(e){var t=Object(a.useState)(""),n=Object(i.a)(t,2),c=n[0],l=n[1],o=Object(a.useState)(!1),s=Object(i.a)(o,2),E=s[0],f=s[1],v=function(){return f(!E)},p=function(){c.length>2?(e.searchData(c),e.setTitle("B\xfasqueda: ".concat(c))):P.a.info("Tienes que escribir al menos 3 caracteres",{position:P.a.POSITION.BOTTOM_RIGHT})};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"navbar"},r.a.createElement(T.b,{to:"#"},r.a.createElement(u.a,{className:"navbar__menu-bars",onClick:v})),r.a.createElement("h1",null,"Noticias"),r.a.createElement("div",{className:"navbar__center"},r.a.createElement("input",{type:"text",placeholder:"Buscar",value:c,onKeyDown:function(e){return function(e){"Enter"===e.key&&p()}(e)},onChange:function(e){return l(e.target.value)}}),r.a.createElement(R.a,{onClick:function(){return p()},style:{cursor:"pointer"}}))),r.a.createElement("nav",{className:E?"navbar-menu active":"navbar-menu"},r.a.createElement("ul",{className:"navbar-menu__items"},r.a.createElement("li",{className:"navbar-menu__items__toggle"},r.a.createElement(T.b,{to:"#"},r.a.createElement(m.a,{className:"navbar-menu__menu-bars",onClick:v}))),S.map((function(e,t){return r.a.createElement("li",{key:t,className:e.cName,onClick:v},r.a.createElement(T.b,{to:e.path},e.icon,r.a.createElement("span",null,e.title)))})))))})),V=n(4);var J=Object(D.b)(null,(function(e){return{fetchData:function(t){return e(I(t))},setTitle:function(t){return e(A(t))}}}))((function(e){var t=e.title,n=e.id,c=e.Component,l=e.setTitle,i=e.fetchData;return Object(a.useEffect)((function(){i(n),l(t)}),[i,l,n,t]),r.a.createElement(c,null)})),U=(n(84),n(49)),q=n.n(U);var W=function(e){var t=e.item,n=null==t.img_url?"./img/default.png":t.img_url,a=function(e){var t=new Date(1e3*e),n=String(t.getDate()).padStart(2,"0"),a=String(t.getMonth()+1).padStart(2,"0"),r=t.getFullYear();return"".concat(r,"-").concat(a,"-").concat(n)}(t.date);return r.a.createElement("div",{className:"newsCard"},r.a.createElement("img",{src:n,alt:t.title}),r.a.createElement("div",{className:"newsCard__info"},r.a.createElement(q.a,{line:2,element:"h2",truncate:"...",text:t.title}),r.a.createElement("h4",null,a),r.a.createElement("h3",null,t.source_name),r.a.createElement("a",{href:t.url},"Ver m\xe1s")))},Y=(n(85),n(50)),G=n.n(Y);var H=Object(D.b)((function(e){return{data:e.news,error:e.error,title:e.title}}))((function(e){var t=e.data,n=e.error,c=e.title,l=Object(a.useState)(0),o=Object(i.a)(l,2),u=o[0],s=o[1],m=Math.ceil(t.length/12);return r.a.createElement("div",{className:"news-container"},r.a.createElement("h1",{className:"news-container__title"},c),r.a.createElement("div",{className:"news-container__list"},function(){var e=t.slice(u,u+12);return n?r.a.createElement("h1",null,n):0===t.length?r.a.createElement("h1",null,"Loading ..."):e.map((function(e){return r.a.createElement(W,{key:e.news_id,item:e})}))}()),r.a.createElement(G.a,{previousLabel:"prev",nextLabel:"next",breakLabel:"...",breakClassName:"break-me",pageCount:m,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:function(e){return s(12*e.selected)},containerClassName:"pagination",subContainerClassName:"pages pagination",activeClassName:"active"}))}));n(86);var K=function(){return r.a.createElement("div",{className:"footer"},r.a.createElement("p",null,"Created by Jorge Elias | 2020"))};var $=function(){return r.a.createElement("div",null,r.a.createElement(T.a,null,r.a.createElement(B,null),r.a.createElement(V.d,null,S.map((function(e,t){return r.a.createElement(V.b,{exact:!0,path:"/react-newsfeed/".concat(e.path),key:t},r.a.createElement(J,{title:e.title,Component:H,id:e.value}))})),r.a.createElement(V.b,{exact:!0,path:"/react-newsfeed/404",key:"fourOhFour"},r.a.createElement(J,{title:"Error 404",Component:H,id:"404"})),r.a.createElement(V.a,{to:"/404"})),r.a.createElement(K,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var z=n(15),Q=Object(z.c)({news:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;if("SET_DATA_FROM_SERVICE"===t.type){var n=t.data.data.slice(0,100);return n}return"CLEANUP"===t.type?[]:e},title:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"\xdaltimas noticias",t=arguments.length>1?arguments[1]:void 0;return"SET_TITLE"===t.type?t.title:e},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SERVICE_ERROR"===t.type?t.error:e}}),X=n(51),Z=Object(z.d)(Q,Object(z.a)(X.a));l.a.render(r.a.createElement(r.a.Fragment,null,r.a.createElement(D.a,{store:Z},r.a.createElement($,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[53,1,2]]]);
//# sourceMappingURL=main.d282e691.chunk.js.map